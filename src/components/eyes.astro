---
const {
  eye_options = [],
  active_thread_key = "cinza",
  active_thread_modifier = "core",
} = Astro.props;

const resolve_eye_label = (thread_key) => {
  if (thread_key === "cinza") {
    return "cinza";
  }

  if (thread_key === "suul") {
    return "suul";
  }

  if (thread_key === "alvorada") {
    return "alvorada";
  }

  return thread_key;
};
---

<section aria-label="Eyes thread selector">
  <p>Eyes</p>
  <p>
    Active: <strong>{active_thread_key}</strong> / {active_thread_modifier}
  </p>

  <ul>
    {
      eye_options.map((eye_option) => {
        const is_active = eye_option.thread_key === active_thread_key;

        return (
          <li>
            <a
              href={eye_option.href}
              hx-get={eye_option.hx_get}
              hx-target={eye_option.hx_target}
              hx-swap={eye_option.hx_swap}
              hx-push-url={eye_option.hx_push_url}
              aria-current={is_active ? "page" : undefined}
            >
              {resolve_eye_label(eye_option.thread_key)}
            </a>
          </li>
        );
      })
    }
  </ul>
</section>
