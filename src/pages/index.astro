---
import IndexLayout from "../layouts/index.astro";
import "../styles/components/home-card-gate.css";

const cinza_card_ornament_base = {
  corner_tl: "/ornaments/cinza/card_corner_a.svg",
  corner_tr: "/ornaments/cinza/card_corner_b.svg",
  corner_bl: "/ornaments/cinza/card_corner_c.svg",
  corner_br: "/ornaments/cinza/card_corner_d.svg",
};

const phase_cards = [
  {
    phase_name: "Nigredo",
    phase_slug: "nigredo",
    phase_symbol: "01",
    phase_blurb:
      "Dissolution and shadow-work. Enter the black vessel of becoming.",
    ornament: {
      ...cinza_card_ornament_base,
      sigil: "/ornaments/cinza/sigil_eye.svg",
    },
  },
  {
    phase_name: "Albedo",
    phase_slug: "albedo",
    phase_symbol: "02",
    phase_blurb: "Clarification and silver breath. Distill signal from noise.",
    ornament: {
      ...cinza_card_ornament_base,
      sigil: "/ornaments/cinza/sigil_moon_star.svg",
    },
  },
  {
    phase_name: "Citrinitas",
    phase_slug: "citrinitas",
    phase_symbol: "03",
    phase_blurb: "Dawn-gold awakening. Let meaning crystallize into form.",
    ornament: {
      ...cinza_card_ornament_base,
      corner_tl: "/ornaments/cinza/card_corner_b.svg",
      corner_tr: "/ornaments/cinza/card_corner_a.svg",
      sigil: "/ornaments/cinza/sigil_moon_star.svg",
    },
  },
  {
    phase_name: "Rubedo",
    phase_slug: "rubedo",
    phase_symbol: "04",
    phase_blurb: "Union and embodiment. Seal the work in living fire.",
    ornament: {
      ...cinza_card_ornament_base,
      corner_bl: "/ornaments/cinza/card_corner_d.svg",
      corner_br: "/ornaments/cinza/card_corner_c.svg",
      sigil: "/ornaments/cinza/sigil_eye.svg",
    },
  },
];
---

<IndexLayout>
  <section id="home_card_gate">
    <article id="home_gate_intro">
      <header id="home_gate_header">
        <p id="home_gate_kicker" class="text_kicker">~/ threshold</p>
        <h1 id="home_gate_title" class="text_step_4">Choose your phase</h1>
      </header>

      <div id="home_gate_body">
        <p>
          Four doors, one work. Pick a transmutation path and continue the
          ritual.
        </p>
      </div>
    </article>

    <nav id="phase_card_grid">
      {
        phase_cards.map((phase_card) => (
          <a
            class={`phase_card_link phase_card_${phase_card.phase_slug}`}
            href={`/${phase_card.phase_slug}`}
          >
            <span class="phase-card-layer phase-card-layer-surface" />
            <span class="phase-card-layer phase-card-layer-stars" />
            <span class="phase-card-layer phase-card-layer-frame" />
            <div class="phase-card-layer phase-card-layer-ornament-svg">
              <img
                class="phase-card-ornament phase-card-ornament-corner-tl"
                src={phase_card.ornament.corner_tl}
                alt=""
                loading="eager"
                decoding="async"
              />
              <img
                class="phase-card-ornament phase-card-ornament-corner-tr"
                src={phase_card.ornament.corner_tr}
                alt=""
                loading="eager"
                decoding="async"
              />
              <img
                class="phase-card-ornament phase-card-ornament-corner-bl"
                src={phase_card.ornament.corner_bl}
                alt=""
                loading="eager"
                decoding="async"
              />
              <img
                class="phase-card-ornament phase-card-ornament-corner-br"
                src={phase_card.ornament.corner_br}
                alt=""
                loading="eager"
                decoding="async"
              />
              <img
                class="phase-card-ornament phase-card-ornament-center-top"
                src="/ornaments/cinza/card_center_top.svg"
                alt=""
                loading="eager"
                decoding="async"
              />
              <img
                class="phase-card-ornament phase-card-ornament-side-left"
                src="/ornaments/cinza/card_side_flourish.svg"
                alt=""
                loading="eager"
                decoding="async"
              />
              <img
                class="phase-card-ornament phase-card-ornament-side-right"
                src="/ornaments/cinza/card_side_flourish.svg"
                alt=""
                loading="eager"
                decoding="async"
              />
              <img
                class="phase-card-ornament phase-card-ornament-sigil"
                src={phase_card.ornament.sigil}
                alt=""
                loading="eager"
                decoding="async"
              />
            </div>

            <div class="phase-card-layer-body">
              <p class="phase_card_symbol text_caption">
                {phase_card.phase_symbol}
              </p>
              <h2 class="phase_card_title text_step_2">
                {phase_card.phase_name}
              </h2>
              <p class="phase_card_blurb text_body">{phase_card.phase_blurb}</p>
              <p class="phase_card_cta text_kicker">enter phase</p>
            </div>
          </a>
        ))
      }
    </nav>
  </section>
</IndexLayout>
