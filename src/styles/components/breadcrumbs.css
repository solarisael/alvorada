@reference "tailwindcss";
@reference "@catppuccin/tailwindcss/mocha.css";

#breadcrumbers_xd {
  --crumb_theme_color: var(--site_style_accent);
  --crumb_parent_color: color-mix(
    in oklch,
    var(--ui_text_muted) 75%,
    var(--crumb_theme_color)
  );

  --crumb_divider_mix: 30%;
  --crumb_divider_inset: 0;

  @apply relative z-10 flex;
  @apply mb-4 md:mb-5;
  @apply pb-0;

  &::after {
    content: "";

    @apply absolute;

    left: var(--crumb_divider_inset);
    right: var(--crumb_divider_inset);
    bottom: 0.05em;
    height: 0.08rem;
    border-radius: 999px;
    background: linear-gradient(
      90deg,
      color-mix(in oklch, var(--crumb_theme_color) 10%, transparent) 0%,
      color-mix(
          in oklch,
          var(--crumb_theme_color) var(--crumb_divider_mix),
          transparent
        )
        50%,
      color-mix(in oklch, var(--crumb_theme_color) 10%, transparent) 100%
    );
    box-shadow: 0 0 10px
      color-mix(in oklch, var(--crumb_theme_color) 22%, transparent);
  }

  ol {
    @apply flex items-center;
    @apply gap-1 md:gap-1.5;
    @apply min-w-0;
  }

  li {
    @apply flex items-center;
    @apply min-w-0;
  }

  li:not(:last-child)::after {
    content: "//";

    @apply ml-0.5 md:ml-1;
    @apply text-sm md:text-base;

    color: color-mix(in oklch, var(--crumb_parent_color) 70%, transparent);
    opacity: 0.72;
  }

  a {
    @apply inline-flex items-center;
    @apply text-sm md:text-base;
    @apply lowercase;
    @apply rounded px-1 py-0;
    @apply transition;

    color: var(--crumb_parent_color);
    opacity: calc(0.7 + (0.06 * var(--site_fx_glow_mult, 1)));
    filter: saturate(0.7);
    text-shadow: 0 0 0 transparent;
    transition-property: opacity, filter, color, text-shadow, background-color;
    transition-duration: calc(240ms * var(--site_fx_motion_mult, 1));
    transition-timing-function: ease;
  }

  li.is-parent a:hover,
  li.is-parent a:focus-visible {
    @apply outline-none;

    opacity: 0.88;
    filter: saturate(0.9);
    color: color-mix(
      in oklch,
      var(--crumb_theme_color) 35%,
      var(--ui_text_primary)
    );
    background-color: color-mix(
      in oklch,
      var(--crumb_theme_color) 10%,
      transparent
    );
  }

  li.is-current a {
    @apply font-semibold;

    color: var(--crumb_theme_color);
    opacity: 1;
    filter: saturate(1.06);
    text-shadow: 0 0 14px
      color-mix(
        in oklch,
        var(--crumb_theme_color) calc(30% * var(--site_fx_glow_mult, 1)),
        transparent
      );
  }
}

@media (prefers-reduced-motion: reduce) {
  #breadcrumbers_xd a {
    transition: none;
  }
}
