@reference "tailwindcss";
@reference "../utils.css";
@reference "@catppuccin/tailwindcss/mocha.css";

#style_switcher {
  /* Quick Tune Variables (edit here first) */
  /* geometry */
  --style_switcher_radius: 0.875rem;
  --style_switcher_panel_inline: min(20rem, calc(100vw - 3rem));
  --style_switcher_tab_inline: 2.3rem;
  --style_switcher_tab_block: 12rem;
  --style_switcher_bottom: 1rem;
  --style_switcher_right: 0;

  /* colors */
  --style_switcher_surface_mix: 78%;
  --style_switcher_border_mix: 36%;
  --style_switcher_title_mix: 76%;
  --style_switcher_text_mix: 88%;

  /* effects */
  --style_switcher_blur: calc(10px * var(--site_shell_blur_mult, 1));
  --style_switcher_shadow: 0 18px 30px -22px rgb(0 0 0 / 0.9);

  @apply fixed z-40;
  @apply flex items-start;
  @apply gap-2;
  @apply px-0 py-0;
  @apply border-y border-l;

  right: var(--style_switcher_right);
  bottom: var(--style_switcher_bottom);
  width: calc(
    var(--style_switcher_panel_inline) + var(--style_switcher_tab_inline)
  );
  max-width: calc(100vw - 0.5rem);
  border-radius: var(--style_switcher_radius) 0 0 var(--style_switcher_radius);
  border-color: color-mix(
    in oklch,
    var(--site_style_accent) var(--style_switcher_border_mix),
    transparent
  );
  background: linear-gradient(
    165deg,
    color-mix(
      in oklch,
      var(--ui_bg_mantle)
        calc(
          var(--style_switcher_surface_mix) * var(--site_shell_surface_mult, 1)
        ),
      transparent
    ),
    color-mix(
      in oklch,
      var(--ui_bg_crust) calc(72% * var(--site_shell_surface_mult, 1)),
      transparent
    )
  );
  box-shadow:
    var(--style_switcher_shadow),
    0 0 calc(14px * var(--site_shell_glow_mult, 1))
      color-mix(in oklch, var(--site_style_accent) 26%, transparent);
  backdrop-filter: blur(var(--style_switcher_blur));
  transition: transform 220ms cubic-bezier(0.16, 1, 0.3, 1);
}

#style_switcher_toggle {
  @apply flex;
  @apply items-center justify-center;
  @apply h-full min-h-full;
  @apply border-r;
  @apply px-6 py-3;
  @apply lowercase;

  width: var(--style_switcher_tab_inline);
  height: var(--style_switcher_tab_block);
  text-orientation: mixed;
  letter-spacing: 0.06em;
  color: color-mix(
    in oklch,
    var(--site_style_accent) 86%,
    var(--ui_text_secondary)
  );
  border-color: color-mix(in oklch, var(--site_style_accent) 22%, transparent);
  cursor: pointer;
}

#style_switcher_panel {
  @apply flex flex-col;
  @apply gap-2;
  @apply px-3 py-3;

  width: var(--style_switcher_panel_inline);
}

#style_switcher[data-style-collapsed="true"] {
  transform: translateX(var(--style_switcher_panel_inline));
}

#style_switcher[data-style-collapsed="true"] #style_switcher_panel {
  visibility: hidden;
}

#style_switcher_title {
  @apply lowercase;
  color: color-mix(
    in oklch,
    var(--site_style_accent) var(--style_switcher_title_mix),
    var(--ui_text_secondary)
  );
}

.style_switcher_group {
  @apply flex flex-col;
  @apply gap-1;
}

.style_switcher_label {
  @apply lowercase;
  color: color-mix(in oklch, var(--ui_text_muted) 86%, var(--ui_text_primary));
}

#style_switcher select {
  @apply w-full;
  @apply rounded-md border;
  @apply px-2 py-1.5;
  @apply lowercase;

  color: color-mix(
    in oklch,
    var(--ui_text_primary) var(--style_switcher_text_mix),
    white
  );
  border-color: color-mix(in oklch, var(--site_style_accent) 24%, transparent);
  background-color: color-mix(
    in oklch,
    var(--ui_surface_soft) 62%,
    transparent
  );
}

#style_switcher select:focus-visible {
  @apply outline-none;

  border-color: color-mix(
    in oklch,
    var(--site_style_accent) calc(52% * var(--site_fx_glow_mult, 1)),
    transparent
  );
  box-shadow: 0 0 0 1px
    color-mix(in oklch, var(--site_style_accent) 42%, transparent);
}

@media (max-width: 768px) {
  #style_switcher {
    --style_switcher_bottom: 5.6rem;
    --style_switcher_panel_inline: min(17rem, calc(100vw - 2.4rem));
    --style_switcher_tab_inline: 2rem;
    --style_switcher_tab_block: 9.8rem;
  }
}
